function checkAll(e,t,n){e?$("input:checkbox["+t+"='"+n+"']").attr("checked","checked"):$("input:checkbox["+t+"='"+n+"']").removeAttr("checked")}function updateCheckAll(e,t,n,i){var r=$("input#"+i);e?$("input:checkbox["+t+"='"+n+"']").not(":checked").length>0?r.removeAttr("checked"):r.attr("checked","checked"):r.removeAttr("checked")}var AjaxErrorHandler=function(e,t,n){var i=null;try{i=$.parseJSON(e.responseText)}catch(t){if(e.responseText.indexOf("stages_security_check")>0)window.location=contextPath+"/j_spring_security_logout";else{if(!(e.responseText.indexOf("error.access.denied")>0))return;i={replyMessageCode:"Ne pare rău, dar nu aveţi autoritatea de a încărca anumite date din pagină."}}}null!=i&&i.replyMessageCode&&Utilities.printError(i.replyMessageCode)},AjaxCompleteHandler=function(e,t,n){var i=null;if(console.log(t),"error"!=t){try{i=e.responseText?$.parseJSON(e.responseText):e}catch(i){return void AjaxErrorHandler(e,t,n)}i.error&&(i.redirect?Utilities.closeOpenedWindow():Utilities.printError(i.error))}else Utilities.closeOpenedWindow()},FormHandler={submitForm:function(e,t,n){var i=null;null==e?(i=$("<form/>"),$("body").append(i)):i=$("#"+e),$.each(n,function(e,t){$("<input>").attr({name:e,type:"hidden",value:t}).appendTo(i)}),$(i).attr("action",t),$(i).submit()}},AnimationHandler=function(){function e(e){for(var t=!0,n=0;n<e.length;n++){var i=$("#"+e[n]).val();if(null!=i&&""!=i&&"0"!=i){t=!1;break}}return t}function t(e,t){e.click(function(){t.is(":hidden")?(t.slideDown("slow"),$(this).is("img")&&$(this).attr("src",contextPath+"/images/minus.gif")):(t.slideUp("slow"),$(this).is("img")&&$(this).attr("src",contextPath+"/images/plus.gif"))}).css("cursor","pointer")}return{advancedSearchAnimation:function(n,i,r){var o=$("#"+n),a=$("#"+i);e(r)?a.hide():(a.show(),o.is("img")&&o.attr("src",contextPath+"/images/minus.gif")),t(o,a)},slideAnimation:function(e,n,i){var r=$("#"+n),o=$("#"+i);"hidden"===e?o.hide():(o.show(),r.is("img")&&r.attr("src",contextPath+"/images/minus.gif")),t(r,o)}}},DatePicker=function(e,t){var n={show:"focus",firstDay:1,dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbată"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Noi","Dec"],dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,yearRange:"2010:2030",constrainInput:!0};n&&$.extend(n,t),$("#"+e).click(function(){$(this).datepicker(n).focus()})},Utilities={updateLocalities:function(e,t,n){var i=document.getElementById(n).value;$.ajax({type:"POST",url:"/generic/getLocalities.htm",data:{zoneId:i},success:function(t){$(document.getElementById(e)).loadSelectExtended(t.result)}}),null!=t&&$.ajax({type:"POST",url:"/generic/getInstitutions.htm",data:{zoneId:i},success:function(e){$(document.getElementById(t)).loadSelectExtended(e.result)}})},updateInstitutions:function(e,t){var n=document.getElementById(t).value;$.ajax({type:"POST",url:"/generic/getInstitutions.htm",data:{localityId:n},success:function(t){$(document.getElementById(e)).loadSelectExtended(t.result)}})},updateInstitutionsByZone:function(e,t){var n=document.getElementById(t).value;$.ajax({type:"POST",url:"generic/getInstitutions.htm",data:{zoneId:n},success:function(t){$(document.getElementById(e)).loadSelectExtended(t.result)}})},updateGroups:function(e,t){var n=document.getElementById(t).value;$.ajax({type:"GET",url:"generic/getGroups.htm",data:{siteInfoId:n},success:function(t){$(document.getElementById(e)).loadSelectExtended(t.groups,{noneValue:null})}})},validateDownloadSize:function(e,t,n,i){return null==n&&(n="/library/downloadAttachemntsBulk.htm?id="+e),null==i&&(i="/library/sizeUpAttachemntsBulk.htm?id="+e),$.fancybox.showActivity(),$.ajax({url:i,success:function(e){$.fancybox.hideActivity();var i=e.maxSizeFailure;if(1!=i){var r=e.emptyFailure;1!=r?window.location.href=n:alert(t.emptyFailure)}else alert(t.maxSizeFailure)},error:function(e,t,n){$.fancybox.hideActivity(),alert("errorMessage"+t+", error="+n)}}),!1},filterLocalities:function(e,t){var n=document.getElementById(t).value;$.ajax({type:"POST",url:"generic/getFilteredLocalities.htm",data:{zoneId:n},success:function(t){$(document.getElementById(e)).loadSelectExtended(t.result)}})},printError:function(e){var t=$("div#errors ul.genericError");t.length?t.append("<li> <span class='bullet'> </span>"+e+"</li>"):$("div#errors").append("<ul class='genericError'> <li> <span class='bullet'> </span>"+e+"</li> </ul>")},printAlertOverlay:function(e,t,n){$("body").prepend('<div id="overlay" style="background-color: #333;opacity: .5;filter: alpha(opacity=50);position: fixed; top: 0; left: 0;bottom: 0; right: 0;z-index: 10;" > </div>'),null==n&&(n="OK"),$("body").prepend("<div id=\"alertDiv\"> <div class='genericError'>"+e+"</div><span id='yesAlert'> > "+n+"</span></div>");var i=$("#yesAlert");i.bind("click",function(){var e=this;$("#overlay").remove(),$("#alertDiv").remove(),null!=t&&t(e)})},closeOpenedWindow:function(){var e=null!=window.top?window.top:window,t=null!=e.opener?e.opener:e;t.location.reload(),t!=e&&e.close()},goToLocation:function(e){return null==e||(""==e&&(e="/"),window.location.href=e,!1)},ajaxCheckForRedirectedResponse:function(e,t,n){for(var i=-1;e.charCodeAt(++i)<33;);var r=e.slice(i,i+200).toLowerCase();if("<!doctype"==r.substr(0,9)||"<html"==r.substr(0,5)){if(null!=t){$("body").prepend('<div id="overlay" style="background-color: #333;opacity: .5;filter: alpha(opacity=50);position: fixed; top: 0; left: 0;bottom: 0; right: 0;z-index: 10;" > </div>'),null==n&&(n="OK");var o=$("<span id='yesAlert'> &gt; "+n+"</span>");$('<div id="alertDiv"></div>').append("<div class='genericError'>"+t+"</div>").append(o).prependTo("body"),o.on("click",function(){window.location.reload()})}else window.location.reload();return!1}return!0}};